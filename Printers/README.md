# Zabbix printer templates
Шаблоны сетевых принтеров и МФУ для Zabbix 4.2.

**Список шаблонов и поддерживаемых устройств:**
1. *Template_Printer_Kyocera_black* - шаблон для ч/б принтеров и МФУ Kyocera.
Точно работает для FS-3040MFP+, M2040dn, M2530dn, M3040dn, M3040idn, M3145dn.
2. *Template_Printer_Kyocera_color* - шаблон для цветных принтеров и МФУ Kyocera.
Точно работает для P6035cdn.
3. *Template_Printer_Xerox_black* - шаблон для ч/б принтеров и МФУ Xerox.
Точно работает для Phaser 3250MFP, 3300MFP, WorkCentre 5325.

**Принцип работы шаблонов:**<br>
Zabbix получает информацию по SNMP, опрашивая OID устройств. Т.к. OID по
большей части одинаковые, то шаблоны получаются универсальными. Т.о. есть
вероятность,что они вполне могут работать с другими аналогичными устройствами
(указанные в списке поддерживаемых устройств модели были в наличии и на них
проводились тесты).

**Информация об устройствах в шаблонах**
1. Модель устройства.<br>
1.1. Имя устройства в сети (только Xerox).
2. Серийный номер.
3. Интерфейс сетевого устройства.
4. MAC-адрес.
5. Модель используемового картриджа.
6. Количество распечатанных листов.
7. Остаток тонера в картридже.<br>
7.1. Триггер на остаток тонера меньше 10%.
8. Объём контейнера отработанного тонера.


**Поиск OID:**<br>
Например, прекрасно работает команда snmpwalk<br>
`# apt-get install snmp snmpd snmptrapd snmp-mibs-downloader -y`<br>
`# snmpwalk -v 2c -c public 192.168.x.x > ~/snmp.txt`<br>
*где*<br>
`-v 2c` - версия SNMP на устройстве<br>
`-c public` - значение SNMP-Community на устройстве<br>
`192.168.x.x` - ip-адрес устройства<br>
`> ~/snmp.txt` - путь до файла, куда выгружать данные

**Работа с OID**<br>
В сохранённом файле snmp.txt найденое нужное значение можно использовать как удобно. Например, вписать как элемент в шаблон (или прямо в хост) и обвесить триггерами.<br>
В разных готовых шаблонах OID указывается по-разному: `1.3.6.1.2...` или `iso.3.6.1.2...`. Вроде как это одно и то же и работает одинаково.
